class Solution {
public:
    void rotate(vector<vector<int>>& matrix) {
        rotate(matrix, 0, matrix.size()-1, 0, matrix.size()-1);
    }

    void rotate(vector<vector<int>>& matrix, int up, int down, int left, int right)
    {
        if (up >= down || left >= right)
        {
            return;
        }

        //把最外面一圈旋转
        for (int i = 0; i < right-left; ++i)
        {
            int tmp = matrix[up][left+i];
            //左->上
            matrix[up][left+i] = matrix[down-i][left];
            //下->左
            matrix[down-i][left] = matrix[down][right-i];
            //右->下
            matrix[down][right-i] = matrix[up+i][right];
            //上->右
            matrix[up+i][right] = tmp;
        }

        //收缩范围，继续递归
        rotate(matrix, up+1, down-1, left+1, right-1);

        return;
    }
};
